angular.module("schemaForm").run(["$templateCache",function(e){e.put("static/views/_components/directives/fileUpload/file-upload.html",'<div class="form-group" ng-class="{\'has-error\': hasError()}"><label class="control-label" ng-show="showTitle()">{{form.title}}</label><div><div class="fileUpload button button-small button-border"><span ng-if="\'\'!=$$value$$">Upload</span> <span ng-if="\'\'==$$value$$"><i class="fa fa-spinner"></i></span> <input ng-model="$$value$$" type="file" class="upload" on-read-file="" accept="{{form.accept}}"></div><div ng-if="$$value$$"><a ng-href="{{ $$value$$ }}" download="">Click to download the file</a></div></div><span class="help-block">{{ (hasError() && errorMessage(schemaError())) || form.description}}</span></div>')}]),angular.module("schemaForm").config(["schemaFormProvider","schemaFormDecoratorsProvider","sfPathProvider",function(e,a,o){var t=function(a,t,i){if("string"===t.type&&"file"===t.format){var r=e.stdFormObj(a,t,i);return r.key=i.path,r.type="fileUpload",i.lookup[o.stringify(i.path)]=r,r}};e.defaults.string.unshift(t),a.addMapping("bootstrapDecorator","fileUpload","static/views/_components/directives/file-upload.html"),a.createDirective("fileUpload","static/views/_components/directives/file-upload.html")}]),angular.module("schemaForm").directive("onReadFile",["$http",function(e){return{restrict:"A",require:["ngModel"],scope:!1,link:function(a,o,t,i){o.on("change",function(a){var o=new FormData,t=(a.srcElement||a.target).files[0];o.append("file",t),i[0].$setViewValue(""),e.post("/api/common/upload",o,{transformRequest:angular.identity,headers:{"Content-Type":void 0}}).then(function(e){i[0].$setViewValue(e)})})}}}]);