angular.module("schemaForm").run(["$templateCache",function(e){e.put("directives/decorators/bootstrap/fileUpload/file-upload.html",'<div class="form-group" ng-class="{\'has-error\': hasError()}"><label class="control-label" ng-show="showTitle()">{{form.title}}</label><div><div class="fileUpload button button-small button-border"><span ng-if="\'\'!=$$value$$">Upload</span> <span ng-if="\'\'==$$value$$"><i class="fa fa-spinner"></i></span> <input ng-model="$$value$$" type="file" class="upload" on-read-file=""></div><div ng-if="$$value$$"><a ng-href="{{ $$value$$ }}" download="">Click to download the file</a></div></div><span class="help-block">{{ (hasError() && errorMessage(schemaError())) || form.description}}</span></div>')}]),angular.module("schemaForm").config(["schemaFormProvider","schemaFormDecoratorsProvider","sfPathProvider",function(e,a,o){var r=function(a,r,t){if("string"===r.type&&"file"===r.format){var l=e.stdFormObj(a,r,t);return l.key=t.path,l.type="fileUpload",t.lookup[o.stringify(t.path)]=l,l}};e.defaults.string.unshift(r),a.addMapping("bootstrapDecorator","fileUpload","directives/decorators/bootstrap/fileUpload/file-upload.html"),a.createDirective("fileUpload","directives/decorators/bootstrap/fileUpload/file-upload.html")}]),angular.module("schemaForm").directive("onReadFile",["$http",function(e){return{restrict:"A",require:["ngModel"],scope:!1,link:function(a,o,r,t){o.on("change",function(a){var o=new FormData,r=(a.srcElement||a.target).files[0];o.append("file",r),t[0].$setViewValue(""),e.post("/api/common/upload",o,{transformRequest:angular.identity,headers:{"Content-Type":void 0}}).then(function(e){t[0].$setViewValue(e)})})}}}]);